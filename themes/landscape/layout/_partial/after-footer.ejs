<% if (config.disqus_shortname){ %>
<script>
  var disqus_shortname = '<%= config.disqus_shortname %>';
  <% if (page.permalink){ %>
  var disqus_url = '<%= page.permalink %>';
  <% }; %>
  (function() {
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/<% if (page.comments) { %>embed.js<% } else { %>count.js<% } %>';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>
<% } %>

<%- js("js/jquery-3.6.0.min.js") %>

<% if (theme.fancybox){ %>
  <%- js("fancybox/jquery.fancybox.pack") %>
<% } %>

<!-- 副标题动画 -->
<% if (theme.subtitle){ %>
  <%- js("js/text-effect.js") %>
<% } %>

<%- js("js/script") %>
<!-- 页面点击小红心 -->
<%- js("js/love.js") %>
<!-- 单击显示文字 -->
<%- js("js/click-show-text.js") %>
<!-- 雪花特效 -->
<%- js("js/snow.js") %>
<!-- 搜索 -->
<%- js("js/search.js") %>

<!-- 自定义统计 -->
<%- js("js/record-visits.js") %>

<!-- 百度推送 -->
<% if (config.baidu_push){ %>
<script>
  pushBD()
</script>
<% } %>

<!-- 评论插件 -->
<% if(theme.valine.enable && theme.valine.appId && theme.valine.appKey){ %>
  <%- js('https://cdn.jsdelivr.net/npm/valine@1.3.10/dist/Valine.min.js') %>
  <script>
    var GUEST_INFO = ['nick','mail','link'];
    var guest_info = '<%= theme.valine.guest_info %>'.split(',').filter(function(item){
      return GUEST_INFO.indexOf(item) > -1
    });
    new Valine({
      el: '.vcomment',
      notify: '<%= theme.valine.notify %>' === 'true',
      verify: '<%= theme.valine.verify %>' === 'true',
      appId: '<%= theme.valine.appId %>',
      appKey: '<%= theme.valine.appKey %>',
      placeholder: '<%= theme.valine.placeholder %>',
      pageSize: '<%= theme.valine.pageSize %>',
      avatar: '<%= theme.valine.avatar %>',
      lang: '<%= theme.valine.lang %>',
      visitor: '<%= theme.valine.visitor %>' === 'true',
      recordIP: '<%= theme.valine.recordIP %>' === 'true',
      serverURLs: '<%= theme.valine.serverURLs %>',
    });
  </script>
<% } %>